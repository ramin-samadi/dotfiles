#!/usr/bin/env bash

# NOTE: networkmanager sed dmenu

selected_bssid=$(nmcli device wifi list | sed -n '1!p' | cut -b 9- | cut -d' ' -f3 | sort | uniq | sed '/--/d' | dmenu -p "" | cut -d' ' -f1)

if [[ -z "${selected_bssid// /}" ]]; then
	exit
else
	password_input=$(echo -n "" | dmenu -p "")
fi

if [[ -z "${password_input// /}" ]]; then
	exit
else
	nmcli device wifi connect "$selected_bssid" password "$password_input"
fi
